model OrganizationPolicy {
  id                             String                           @id @default(cuid())
  name                           String
  description                    String?
  organizationId                 String
  status                         PolicyStatus                     @default(draft)
  createdAt                      DateTime                         @default(now())
  updatedAt                      DateTime                         @updatedAt
  policyId                       String
  content                        Json[]
  frequency                      Frequency?
  lastPublishedAt                DateTime?
  isRequiredToSign               Boolean                          @default(false)
  signedBy                       String[]                         @default([])
  OrganizationControlRequirement OrganizationControlRequirement[]
  organization                   Organization                     @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  ownerId                        String?
  owner                          User?                            @relation(fields: [ownerId], references: [id])
  department                     Departments?
  reviewDate                     DateTime?

  @@unique([organizationId, policyId])
  @@index([organizationId])
  @@index([policyId])
}



model PolicyFile {
  id        String   @id @default(cuid())
  policyId  String
  fileName  String
  fileUrl   String
  fileType  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}



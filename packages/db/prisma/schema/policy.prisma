model Policy {
  // Metadata
  id               String       @id @default(cuid())
  name             String
  description      String?
  status           PolicyStatus @default(draft)
  content          Json[]
  frequency        Frequency?
  department       Departments?
  isRequiredToSign Boolean      @default(false)
  signedBy         String[]     @default([])
  reviewDate       DateTime?

  // Dates
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  lastPublishedAt DateTime?

  // Relationships
  organizationId String
  organization   Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  assigneeId     String?
  assignee       Member?      @relation(fields: [assigneeId], references: [id])
  artifacts      Artifact[]

  @@index([organizationId])
}

enum PolicyStatus {
  draft
  published
  needs_review
  archived
}

model Policy {
  id               String       @id @default(dbgenerated("generate_prefixed_cuid('pol'::text)"))
  name             String
  description      String?
  organizationId   String
  status           PolicyStatus @default(draft)
  createdAt        DateTime     @default(now())
  updatedAt        DateTime     @updatedAt
  content          Json[]
  frequency        Frequency?
  lastPublishedAt  DateTime?
  isRequiredToSign Boolean      @default(false)
  signedBy         String[]     @default([])
  organization     Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  ownerId          String?
  owner            User?        @relation(fields: [ownerId], references: [id])
  department       Departments?
  reviewDate       DateTime?
  artifacts        Artifact[]

  @@index([organizationId])
}

enum PolicyStatus {
  draft
  published
  needs_review
  archived
}

model Risk {
  id                           String            @id @default(dbgenerated("generate_prefixed_cuid('rsk'::text)"))
  title                        String
  description                  String
  category                     RiskCategory
  department                   Departments?
  status                       RiskStatus        @default(open)
  likelihood                   Likelihood        @default(very_unlikely)
  impact                       Impact            @default(insignificant)
  residualLikelihood           Likelihood        @default(very_unlikely)
  residualImpact               Impact            @default(insignificant)
  createdAt                    DateTime          @default(now())
  updatedAt                    DateTime          @updatedAt
  treatmentStrategyDescription String?
  treatmentStrategy            RiskTreatmentType @default(accept)
  organizationId               String
  organization                 Organization      @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  ownerId                      String?
  owner                        User?             @relation(fields: [ownerId], references: [id])

  @@index([organizationId])
  @@index([ownerId])
  @@index([category])
  @@index([status])
}

enum RiskTreatmentType {
  accept
  avoid
  mitigate
  transfer
}

enum RiskCategory {
  customer
  governance
  operations
  other
  people
  regulatory
  reporting
  resilience
  technology
  vendor_management
}

enum RiskStatus {
  open
  pending
  closed
  archived
}

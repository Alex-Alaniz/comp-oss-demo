model Vendor {
  id                  String          @id @default(cuid())
  name                String
  description         String
  category            VendorCategory  @default(other)
  status              VendorStatus    @default(not_assessed)
  inherentProbability Likelihood      @default(very_unlikely)
  inherentImpact      Impact          @default(insignificant)
  residualProbability Likelihood      @default(very_unlikely)
  residualImpact      Impact          @default(insignificant)
  createdAt           DateTime        @default(now())
  updatedAt           DateTime        @updatedAt
  organizationId      String
  ownerId             String?
  organization        Organization    @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  owner               User?           @relation(fields: [ownerId], references: [id])
  contacts            VendorContact[]

  @@index([organizationId])
  @@index([ownerId])
  @@index([category])
}

model VendorContact {
  id        String   @id @default(cuid())
  vendorId  String
  name      String
  email     String
  phone     String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  vendor    Vendor   @relation(fields: [vendorId], references: [id], onDelete: Cascade)

  @@index([vendorId])
}

enum VendorCategory {
  cloud
  infrastructure
  software_as_a_service
  finance
  marketing
  sales
  hr
  other
}

enum VendorStatus {
  not_assessed
  in_progress
  assessed
}

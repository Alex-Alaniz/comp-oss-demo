enum TaskStatus {
    open
    closed
}

enum RelatedType {
    vendor
    risk
}

model Task {
    id          String     @id @default(cuid())
    title       String
    description String
    dueDate     DateTime
    status      TaskStatus @default(open)
    createdAt   DateTime   @default(now())
    updatedAt   DateTime   @updatedAt

    // This can be a vendor or a risk id
    relatedId   String
    relatedType RelatedType

    userId         String
    user           User         @relation(fields: [userId], references: [id])
    organizationId String
    organization   Organization @relation(fields: [organizationId], references: [id])

    @@index([relatedId])
    @@index([relatedId, organizationId])
}
